package com.focustech.android.components.mt.sdk.util;

import com.focustech.tm.open.sdk.messages.protobuf.Messages;
import com.google.protobuf.InvalidProtocolBufferException;

/**
 * <*****>
 * <p>
 * 解析日志中发出去日志中的body内容
 * <p>
 * 使用：将body 替换  然后确定发送的类型Messages.ReconnectReq
 *
 * @author liuzaibing
 * @version [版本号, 2017/3/2]
 * @see [相关类/方法]
 * @since [V1]
 */
public class BodyMessageUtil {

    //00000001718 123456 EDU16093039001718
    //EDU16093039001718 123456
    public static void main(String[] args) throws InvalidProtocolBufferException {
        String body = "0a0b3763645955477175446e5110041a800171455759336b6836575a364e5456645458357334726854682d6c46364a77614a7a5879616569463771594f4b6137764343484d63636b4572414a6457704d716b6534394375325578414c3074624737567166304e2d51374c4a64526f63457032744e67344c74326c773659654c6a6b6d364753304b73585f664a43526f4d5939222034306431366533313132363134376166393036313732306438336664626639352a11454455313630393330333930303137313832063132333435363ad2017b2261707056657273696f6e223a22322e342e352e30222c226272616e64223a22687561776569222c226368616e6e656c223a22666f6375737465616368222c226465766963654d6f64656c223a22487561776569222c226465766963654f7356657273696f6e223a22362e30222c226d7955554944223a2230303030303030302d313565642d636433372d653361662d343064653132373036333937222c22757365724167656e74223a22414e44524f49445f4d4f42494c455f504152454e545f4875617765695f322e342e352e30227d4805522430303030303030302d313565642d636433372d653361662d343064653132373036333937";
        byte[] bytes = new byte[body.length() / 2];
        for (int i = 0; i < bytes.length; i++) {
            String code = body.substring(i * 2, i * 2 + 2);
            bytes[i] = (byte) Integer.parseInt(code, 16);
        }
        Messages.ReconnectReq data = Messages.ReconnectReq.parseFrom(bytes);
        System.out.println("args = [" + data + "]");
    }
}
